# Kamal deployment configuration for Signal Harvester (Landing Page)
service: signal-harvester

image: zelusottomayor/signal-harvester

servers:
  web:
    - 143.110.169.251

traefik:
  options:
    publish:
      - "443:443"
    volume:
      - "/letsencrypt/acme.json:/letsencrypt/acme.json"

registry:
  username: zelusottomayor
  password:
    - KAMAL_REGISTRY_PASSWORD

env:
  clear:
    NODE_ENV: production
    PORT: 3000

healthcheck:
  path: /up
  port: 3000

builder:
  multiarch: false
  local:
    arch: amd64

ssh:
  user: root
